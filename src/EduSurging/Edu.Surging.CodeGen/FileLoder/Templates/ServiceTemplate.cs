// ------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本: 16.0.0.0
//  
//     对此文件的更改可能导致不正确的行为，如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
// ------------------------------------------------------------------------------
namespace FileLoder.Templates
{
    using System.Linq;
    using System.Text;
    using System.Collections.Generic;
    using FileLoder.TemplateModel;
    using FileLoder.Helper;
    using System;
    
    /// <summary>
    /// Class to produce the template output
    /// </summary>
    
    #line 1 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "16.0.0.0")]
    public partial class ServiceTemplate : ServiceTemplateBase
    {
#line hidden
        /// <summary>
        /// Create the template output
        /// </summary>
        public virtual string TransformText()
        {
            this.Write("\r\n");
            
            #line 9 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 var orderNames = new List<string>(); 
            
            #line default
            #line hidden
            this.Write("using System.Linq.Expressions;\r\nusing System.Threading.Tasks;\r\nusing System;\r\nusi" +
                    "ng System.Data.Entity;\r\nusing System.Linq;\r\nusing Edu.Core.Data;\r\nusing ");
            
            #line 16 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write(".Entity;\r\nusing ");
            
            #line 17 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write(".Base;\r\nusing ");
            
            #line 18 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write(".Models;\r\nusing System.Collections.Generic;\r\nusing Edu.Core.Handler;\r\nusing Newto" +
                    "nsoft.Json;\r\nusing System.Data.Entity.Core.Objects;\r\nusing Edu.Core.Site;\r\nusing" +
                    " Edu.Core.Extend;\r\nusing Edu.Core.Model;\r\nusing System.Data;\r\nusing ");
            
            #line 27 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write(".ChangeService.");
            
            #line 27 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(";\r\nusing ");
            
            #line 28 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write(".BaseService;\r\n\r\n");
            
            #line 30 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 var PKData=models.ColumnsList.Where(t=>t.PK==true).FirstOrDefault();
	if(PKData==null) throw new Exception("未包含主键字段");
	var IsFK=PKData.FK;
	var FkData=models.ColumnsList.Where(t=>t.Virtual==false&&t.FK==true&&t.FKTable!=_entityName+"Entity").Select(t => t.FKTable).Distinct();

            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 36 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 var sqData=models.ColumnsList.Where(r=>r.Search != SearchType.Null&&r.Virtual==false).ToList();
var Pa=new  StringBuilder();
Pa.Append("condition.IsDescending,(int?)condition.OrderBy,condition.Page,condition.PageCount");
		foreach(var model in sqData)
		{ 
			if(model.Search==SearchType.In)
			{
				Pa.Append(", (condition."+model.Code+"s==null?null:string.Join(\",\", condition."+model.Code+"s))");
			}
			else if (model.Search == SearchType.Like)
			{
				Pa.Append(", condition."+model.Code);
			}
			else if (model.Search ==  SearchType.Equal)
			{
				Pa.Append(",condition."+model.Code);
			}
			else if (model.Search ==  SearchType.Range)
			{
				Pa.Append(", condition."+model.Code+"Begin");
				Pa.Append(", condition."+model.Code+"End");
			}
		}
		var PaStr=Pa.ToString();
            
            #line default
            #line hidden
            this.Write("namespace ");
            
            #line 60 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write(".Service.");
            
            #line 60 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("\r\n{\r\n\tpublic class ");
            
            #line 62 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Service : I");
            
            #line 62 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Service\r\n\t{\r\n\t\tprivate readonly ");
            
            #line 64 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_repositoryText));
            
            #line default
            #line hidden
            this.Write("<");
            
            #line 64 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> _");
            
            #line 64 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository;\r\n\t\tprivate readonly I");
            
            #line 65 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("ChangeService _");
            
            #line 65 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService;\r\n\t\tprivate readonly I");
            
            #line 66 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("BaseService _");
            
            #line 66 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService;\r\n        private readonly IWorkContext _workContext;\r\n        privat" +
                    "e readonly IValidateCode _validateCode;\r\n");
            
            #line 69 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach(var model in FkData){
	var item=_AllModels.Where(t=>t.Code==model.Replace("Entity", "")).FirstOrDefault();
	if(item!=null){

            
            #line default
            #line hidden
            this.Write("\t\tprivate readonly I");
            
            #line 73 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Code));
            
            #line default
            #line hidden
            this.Write("BaseService _");
            
            #line 73 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Code.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService;\r\n");
            
            #line 74 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\r\n\t\tpublic ");
            
            #line 76 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Service(");
            
            #line 76 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_repositoryText));
            
            #line default
            #line hidden
            this.Write("<");
            
            #line 76 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> ");
            
            #line 76 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository,I");
            
            #line 76 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("ChangeService ");
            
            #line 76 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService, IWorkContext workContext\r\n\t\t,IValidateCode validateCode,I");
            
            #line 77 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("BaseService ");
            
            #line 77 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService\r\n");
            
            #line 78 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach(var model in FkData){
	var item=_AllModels.Where(t=>t.Code==model.Replace("Entity", "")).FirstOrDefault();
	if(item!=null){

            
            #line default
            #line hidden
            this.Write("\t\t,I");
            
            #line 82 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Code));
            
            #line default
            #line hidden
            this.Write("BaseService ");
            
            #line 82 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Code.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService\r\n");
            
            #line 83 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t)\r\n\t\t{\r\n\t\t\t_");
            
            #line 86 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository = ");
            
            #line 86 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository;\r\n\t\t\t_");
            
            #line 87 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService=");
            
            #line 87 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService;\r\n\t\t\t_workContext=workContext;\r\n            _validateCode = validat" +
                    "eCode;\r\n\t\t\t_");
            
            #line 90 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService=");
            
            #line 90 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService;\r\n");
            
            #line 91 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach(var model in FkData){
	var item=_AllModels.Where(t=>t.Code==model.Replace("Entity", "")).FirstOrDefault();

            
            #line default
            #line hidden
            this.Write("\t\t_");
            
            #line 94 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Code.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService=");
            
            #line 94 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Code.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService;\r\n");
            
            #line 95 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t}\r\n\r\n");
            
            #line 98 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(_pro){
            
            #line default
            #line hidden
            this.Write("\t\t//调用存储过程方法\r\n\t\tpublic ObjectResult<");
            
            #line 100 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("_DataModel> ");
            
            #line 100 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("ProSearch(");
            
            #line 100 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("SearchCondition condition,bool IsAuth=false, MenuFieldInfo menuFieldInfo = null)\r" +
                    "\n\t\t{\r\n\t\t\treturn ((");
            
            #line 102 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write("DbContext)_");
            
            #line 102 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository.Context).");
            
            #line 102 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("ProSearch(");
            
            #line 102 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PaStr));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t}\r\n");
            
            #line 104 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\r\n\t\tprivate DataTable GetDefaultTable()\r\n        {\r\n            var Table= new Da" +
                    "taTable();\r\n");
            
            #line 109 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false)){
            
            #line default
            #line hidden
            this.Write("\t\t\tTable.Columns.Add(new DataColumn(\"");
            
            #line 110 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"));\r\n");
            
            #line 111 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("            return Table;\r\n        }\r\n\r\n\t\tpublic async Task<PageList<");
            
            #line 115 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            
            #line 115 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_pro==true?"_DataModel":"Model"));
            
            #line default
            #line hidden
            this.Write(">> ");
            
            #line 115 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("PageSearch(");
            
            #line 115 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("SearchCondition condition,Expression<Func<");
            
            #line 115 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,IQueryable<");
            
            #line 115 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Query=null,bool IsAuth=false, MenuFieldInfo _fieldInfo = null)\r\n\t\t{\r\n");
            
            #line 117 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(_pro){
            
            #line default
            #line hidden
            this.Write("\t\t\treturn ");
            
            #line 118 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("ProSearch(condition).ToPage(condition);\r\n");
            
            #line 119 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\tvar ");
            
            #line 120 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Query=MWhere(null, Get");
            
            #line 120 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(@"sByCondition(condition,expression,Query,IsAuth,_fieldInfo), IsAuth, _fieldInfo);
			if (condition.ExportData)
			{
                if (IsAuth && !(_fieldInfo.ExportAble == true)) throw new ValidateException(""无导出数据权限。"");
				if (!condition.IsAll && condition.Page.HasValue && condition.PageCount.HasValue && condition.Page.Value > 0 && condition.PageCount.Value > 0)
                    ");
            
            #line 125 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Query = ");
            
            #line 125 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Query.Skip((condition.Page.Value - 1) * condition.PageCount.Value).Take(condition" +
                    ".PageCount.Value);\r\n\t\t\t\tvar DataTable=IsAuth? _fieldInfo.GetExportTable():GetDef" +
                    "aultTable();\r\n                var ExportData= await ");
            
            #line 127 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(@"Query.ToListAsync();
                ExportData.ForEach(item =>
                {
                    var row = DataTable.NewRow();
                    DataRow(item, row, IsAuth, _fieldInfo);
                    DataTable.Rows.Add(row);
                });
                var Url = DataTable.ToExcel(_workContext.ExportDirectory);
                return new PageList<");
            
            #line 135 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model>\r\n                {\r\n                    DataUrl= Url,\r\n                   " +
                    " ExportData=true,\r\n                };\r\n\t\t\t}\r\n            else\r\n\t\t\t{\r\n\t\t\t\tvar Dat" +
                    "a=await ");
            
            #line 143 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Query.ToPage(condition);\r\n\t\t\t\tif (IsAuth&&_fieldInfo!=null&&_fieldInfo.IsTranslat" +
                    "ion())\r\n\t\t\t\t{\r\n\t\t\t\t\tData.Records.ForEach(item =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tTranslation(_fie" +
                    "ldInfo, item);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn Data;\r\n\t\t\t}\r\n\t\t");
            
            #line 153 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate IQueryable<");
            
            #line 156 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> DynamicInclude(IQueryable<");
            
            #line 156 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(@"Entity> Query = null, bool IsAuth = true, MenuFieldInfo FieldInfo = null)
        {
            if (Query != null)
            {
				if(IsAuth && FieldInfo != null)
				{
					if(FieldInfo.ActionType == MenuAction_ActionType.编辑操作 || FieldInfo.ActionType == MenuAction_ActionType.查看操作)
					{
");
            
            #line 164 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.FK == true&&t.PK==false||(t.Virtual&&t.PK&&t.FK))){
if(model.Virtual){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tQuery=Query.Include(t=>t.");
            
            #line 166 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n");
            
            #line 167 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\t\r\n\t\t\t\t\t\tQuery=Query.Include(t=>t.");
            
            #line 168 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write(");\r\n");
            
            #line 169 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar IncludeList = FieldInfo.Include();\r\n\t\t\t\t\t\tif" +
                    " (IncludeList.Any())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tIncludeList.ForEach(item =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t" +
                    "\t\t\t\t\tswitch(item.FieldName)\r\n\t\t\t\t\t\t\t\t{\r\n");
            
            #line 180 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.FK == true&&t.PK==false||(t.Virtual&&t.PK&&t.FK))){
if(model.Virtual){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tcase \"");
            
            #line 182 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code.Split('_')[0]));
            
            #line default
            #line hidden
            this.Write("\":\r\n\t\t\t\t\t\t\t\tQuery=Query.Include(t=>t.");
            
            #line 183 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tbreak;\r\n");
            
            #line 185 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tcase \"");
            
            #line 186 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\":\r\n\t\t\t\t\t\t\t\tQuery=Query.Include(t=>t.");
            
            #line 187 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tbreak;\r\n");
            
            #line 189 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n");
            
            #line 197 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.FK == true&&t.PK==false||(t.Virtual&&t.PK&&t.FK))){if(model.Virtual){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tQuery=Query.Include(t=>t.");
            
            #line 198 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n");
            
            #line 199 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\t\r\n\t\t\t\t\t\tQuery=Query.Include(t=>t.");
            
            #line 200 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write(");\r\n");
            
            #line 201 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t}\r\n            }\r\n            return Query;\r\n        }\r\n\t\t\r\n\t\tprivate void Da" +
                    "taRow(");
            
            #line 207 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model model,DataRow row, bool IsAuth = true, MenuFieldInfo FieldInfo = null)\r\n   " +
                    "     {\r\n            if (IsAuth)\r\n            {\r\n");
            
            #line 211 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false||(t.Virtual&&t.PK&&t.FK))){if(model.Virtual){
            
            #line default
            #line hidden
            this.Write("\r\n\tvar ");
            
            #line 213 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field = FieldInfo.ValidHidden(\"");
            
            #line 213 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n\tif(");
            
            #line 214 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field!=null&&FieldInfo.IsInclude(\"");
            
            #line 214 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t{\r\n");
            
            #line 216 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
   var FCode=model.Code.Split('_')[1];
	var FKEntity=_AllModels.Where(t=>t.Code==FCode).FirstOrDefault();
	if(FKEntity!=null){ 
		foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false)){
            
            #line default
            #line hidden
            this.Write("\t\t\tif(FieldInfo.IsIncludeChild(\"");
            
            #line 220 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 220 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t{\r\n\t\t\t\tvar ");
            
            #line 222 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 222 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field= FieldInfo.IncludeChild(\"");
            
            #line 222 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 222 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n\t\t\t\tif(");
            
            #line 223 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 223 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field!=null)\r\n\t\t\t\t{\r\n\t\t\t\t\trow[");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field.FieldName+\"_\"+");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field.FieldName+\"_\"+");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field.Description] = model.");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("?.");
            
            #line 225 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t}\r\n\t\t\t}\r\n");
            
            #line 228 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t}\r\n");
            
            #line 230 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\tvar ");
            
            #line 231 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field = FieldInfo.ValidHidden(\"");
            
            #line 231 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n\t\t\t\tif(");
            
            #line 232 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field!=null)\r\n\t\t\t\t\trow[");
            
            #line 233 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field.FieldName+\"_\"+");
            
            #line 233 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field.Description] = model.");
            
            #line 233 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n");
            
            #line 234 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.FK){ var FKEntity=_AllModels.Where(t=>t.Code==model.FKTable.Replace("Entity", "")).FirstOrDefault();if(FKEntity!=null){
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(FieldInfo.IsInclude(\"");
            
            #line 235 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t{\r\n");
            
            #line 237 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false)){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tif(FieldInfo.IsIncludeChild(\"");
            
            #line 238 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 238 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 240 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 240 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field= FieldInfo.IncludeChild(\"");
            
            #line 240 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 240 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n\t\t\t\t\t\tif(");
            
            #line 241 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 241 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field!=null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trow[");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field.FieldName+\"_\"+");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field.FieldName+\"_\"+");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("_");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("Field.Description] = model.");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write("?.");
            
            #line 243 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n");
            
            #line 246 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t}\r\n");
            
            #line 248 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}}}
            
            #line default
            #line hidden
            this.Write("            }\r\n            else\r\n            {\r\n");
            
            #line 252 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false)){
            
            #line default
            #line hidden
            this.Write("\t\t\t\trow[\"");
            
            #line 253 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"] = model.");
            
            #line 253 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n");
            
            #line 254 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("            }\r\n        }\r\n\r\n\t\tprivate Expression<Func<");
            
            #line 258 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, ");
            
            #line 258 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model>> ");
            
            #line 258 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Expression(bool IsAuth = true, MenuFieldInfo FieldInfo = null)\r\n        {\r\n      " +
                    "      Expression<Func<");
            
            #line 260 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, ");
            
            #line 260 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model>> ");
            
            #line 260 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Expression;\r\n\t\t\tif(IsAuth)//根据配置查询字段\r\n\t\t\t{\r\n");
            
            #line 263 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false||(t.Virtual&&t.PK&&t.FK))){
            
            #line default
            #line hidden
            this.Write("\tvar ");
            
            #line 264 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Status=FieldInfo.IsValidHidden(\"");
            
            #line 264 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n");
            
            #line 265 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.Virtual){ var FCode=model.Code.Split('_')[1];

            
            #line default
            #line hidden
            this.Write("\t\tvar ");
            
            #line 267 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("IsInclude=FieldInfo.IsInclude(\"");
            
            #line 267 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n");
            
            #line 268 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"

	var FKEntity=_AllModels.Where(t=>t.Code==FCode).FirstOrDefault();
	if(FKEntity!=null){ 
		foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false||(t.Virtual&&t.PK&&t.FK))){
            
            #line default
            #line hidden
            this.Write("\t\t\tvar ");
            
            #line 272 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model2.Code));
            
            #line default
            #line hidden
            this.Write("Status=FieldInfo.IsIncludeChild(\"");
            
            #line 272 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 272 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n");
            
            #line 273 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}}
	else if(model.FK&&model.PK==false){	var FCode=model.FKTable.Replace("Entity", "");
            
            #line default
            #line hidden
            this.Write("\t\tvar ");
            
            #line 275 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("IsInclude=FieldInfo.IsInclude(\"");
            
            #line 275 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n");
            
            #line 276 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 var FKEntity=_AllModels.Where(t=>t.Code==FCode).FirstOrDefault();
if(FKEntity!=null){ 
foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false||(t.Virtual&&t.PK&&t.FK))){
            
            #line default
            #line hidden
            this.Write("\t\t\t\tvar ");
            
            #line 279 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model2.Code));
            
            #line default
            #line hidden
            this.Write("Status=FieldInfo.IsIncludeChild(\"");
            
            #line 279 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 279 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n");
            
            #line 280 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}}}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t");
            
            #line 281 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Expression=_");
            
            #line 281 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("=>new ");
            
            #line 281 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model\r\n\t\t\t\t{\r\n");
            
            #line 283 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false||(t.Virtual&&t.PK&&t.FK))){
var type=model.DataType.IndexOf("(") == -1 ? model.DataType.Replace("?","") : model.DataType.Substring(0, model.DataType.IndexOf("(")).Replace("?","");
            
            #line default
            #line hidden
            
            #line 285 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.Virtual){
            
            #line default
            #line hidden
            this.Write("\t");
            
            #line 286 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 286 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Status&&");
            
            #line 286 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("IsInclude? _");
            
            #line 286 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 286 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("==null ? null:new ");
            
            #line 286 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code.Split('_')[1]+(model.Code.Split('_')[1]==_entityName?"_DataModel":"Model")));
            
            #line default
            #line hidden
            this.Write("\r\n\t\t\t\t{\r\n\t\t\t\t");
            
            #line 288 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 var FKEntity=_AllModels.Where(t=>t.Code==model.Code.Split('_')[1]).FirstOrDefault();
				if(FKEntity!=null)
				{ 
					foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false)){
					var type2=model2.DataType.IndexOf("(") == -1 ? model2.DataType.Replace("?","") : model2.DataType.Substring(0, model2.DataType.IndexOf("(")).Replace("?","");
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t");
            
            #line 293 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("=!");
            
            #line 293 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model2.Code));
            
            #line default
            #line hidden
            this.Write("Status ? ");
            
            #line 293 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Helper.getDefaultValue(_options.DataBaseType,type2,model2.IsNull)));
            
            #line default
            #line hidden
            this.Write(":_");
            
            #line 293 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 293 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 293 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(",\r\n\t");
            
            #line 294 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t}:null,\r\n\t");
            
            #line 296 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            
            #line 297 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            
            #line 298 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 298 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Status?_");
            
            #line 298 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 298 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(":");
            
            #line 298 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Helper.getDefaultValue(_options.DataBaseType,type,model.IsNull)));
            
            #line default
            #line hidden
            this.Write(",\r\n");
            
            #line 299 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.FK&&model.PK==false){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t");
            
            #line 300 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write("= ");
            
            #line 300 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("IsInclude? _");
            
            #line 300 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 300 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write("==null ? null:new ");
            
            #line 300 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.FKTable.Replace("Entity","")+(model.FKTable.Replace("Entity","")==_entityName?"_DataModel":"Model")));
            
            #line default
            #line hidden
            this.Write("\r\n\t\t\t\t{\r\n\t\t\t\t");
            
            #line 302 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 var FKEntity=_AllModels.Where(t=>t.Code==model.FKTable.Replace("Entity", "")).FirstOrDefault();
				if(FKEntity!=null)
				{ 
					foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false)){
					var type2=model2.DataType.IndexOf("(") == -1 ? model2.DataType.Replace("?","") : model2.DataType.Substring(0, model2.DataType.IndexOf("(")).Replace("?","");

            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t");
            
            #line 308 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("=!");
            
            #line 308 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model2.Code));
            
            #line default
            #line hidden
            this.Write("Status ? ");
            
            #line 308 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Helper.getDefaultValue(_options.DataBaseType,type2,model2.IsNull)));
            
            #line default
            #line hidden
            this.Write(":_");
            
            #line 308 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 308 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 308 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(",\r\n");
            
            #line 309 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t}:null,\r\n");
            
            #line 311 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            
            #line 312 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t\t};\r\n\t\t\t}\r\n\t\t\telse//方便联查取出默认的Model\r\n\t\t\t{\r\n\t\t\t\t");
            
            #line 316 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Expression=");
            
            #line 316 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("=>new ");
            
            #line 316 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model\r\n\t\t\t\t{\r\n\t\t\t\t\t");
            
            #line 318 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Text=");
            
            #line 318 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 318 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(".ToString(),\r\n");
            
            #line 319 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false)){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t");
            
            #line 320 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 320 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 320 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\r\n");
            
            #line 321 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\t\r\n\t\t\t\t};\r\n\t\t\t}\r\n            return ");
            
            #line 324 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Expression;\r\n        }\r\n\r\n\t\tpublic IQueryable<");
            
            #line 327 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Where(Expression<Func<");
            
            #line 327 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,IQueryable<");
            
            #line 327 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Query=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)\r\n\t\t{\r\n\t\t\tretu" +
                    "rn _");
            
            #line 329 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("BaseService.Where(expression, Query, IsAuth, FieldInfo);\r\n\t\t}\r\n\r\n        public I" +
                    "Queryable<");
            
            #line 332 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model> MWhere(Expression<Func<");
            
            #line 332 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,IQueryable<");
            
            #line 332 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Query=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)\r\n\t\t{\r\n\t\t\tvar " +
                    "Ex");
            
            #line 334 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(" = ");
            
            #line 334 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(@"Expression(IsAuth,FieldInfo);
			if (Query == null)
                Query = Where(expression, Query, IsAuth, FieldInfo);
            else
                Query = expression == null ? Query : Query.Where(expression);
			return DynamicInclude(Query, IsAuth, FieldInfo).Select(Ex");
            
            #line 339 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t}\r\n\r\n\t\tprivate void SetDefaultValue(");
            
            #line 342 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model m");
            
            #line 342 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(",bool IsAuth=false,MenuFieldInfo fieldInfo=null)\r\n\t\t{\r\n\t\t\t#region 设置默认值\r\n\t\t\tif(Is" +
                    "Auth){\r\n\t\t\tfieldInfo.DefaultFieldList().ForEach(item =>\r\n            {\r\n        " +
                    "        switch (item.FieldName)\r\n                {\r\n");
            
            #line 350 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false)){	
            
            #line default
            #line hidden
            this.Write("\t\t\t\tcase \"");
            
            #line 351 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\":\r\n");
            
            #line 352 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 if(model.CodeType=="string"){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tif(item.DataType==MenuAuth_DataType.当前时间)\r\n                            m");
            
            #line 354 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 354 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("= DateTime.Now.ToString();\r\n                        else if(item.DataType == Menu" +
                    "Auth_DataType.用户编号)\r\n                            m");
            
            #line 356 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 356 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.CurrentUser.Id.ToString();\r\n                        else if (item" +
                    ".DataType == MenuAuth_DataType.机构编号)\r\n                            m");
            
            #line 358 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 358 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.SuperRole.Org.ToString();\r\n                        else if (item." +
                    "DataType == MenuAuth_DataType.授权编号)\r\n                            m");
            
            #line 360 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 360 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.SuperRole.Id.ToString();\r\n                        else if (item.D" +
                    "ataType == MenuAuth_DataType.角色编号)\r\n                            m");
            
            #line 362 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 362 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.UserRole.RoleID.ToString();\r\n\t\t\t\t\t\telse if (item.DataType == Menu" +
                    "Auth_DataType.区域编号)\r\n                            m");
            
            #line 364 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 364 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.AreaInfo.Id.ToString();\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth" +
                    "_DataType.班级编号)\r\n                            m");
            
            #line 366 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 366 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.ClassInfo.OrgID.ToString();\r\n\t\t\t\t\t\telse if (item.DataType == Menu" +
                    "Auth_DataType.学段年级关联编号)\r\n                            m");
            
            #line 368 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 368 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.LinkInfo.Id.ToString();\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth" +
                    "_DataType.学段编号)\r\n                            m");
            
            #line 370 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 370 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.LinkInfo.Key.ToString();\r\n\t\t\t\t\t\telse if (item.DataType == MenuAut" +
                    "h_DataType.年级编号)\r\n                            m");
            
            #line 372 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 372 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.LinkInfo.Value.ToString();\r\n                        else if (item" +
                    ".DataType == MenuAuth_DataType.随机密钥串)\r\n                            m");
            
            #line 374 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 374 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _validateCode.GetRandomString(16, true);\r\n\t\t\t\t\t\telse if (item.DataType == Menu" +
                    "Auth_DataType.机构层级编码)\r\n                            m");
            
            #line 376 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 376 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.OrgInfo.LevelCode;\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth_Data" +
                    "Type.机构区域编码)\r\n                            m");
            
            #line 378 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 378 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.AreaInfo.Code;\r\n\t\t\t\t\t\telse if(!item.DataValue.IsNull()) \r\n\t\t\t\t\t\t\t" +
                    "m");
            
            #line 380 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 380 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=item.DataValue;\r\n");
            
            #line 381 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.EM){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tm");
            
            #line 382 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 382 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=(");
            
            #line 382 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.EnumName));
            
            #line default
            #line hidden
            this.Write(")item.DataValue.getValueint();\r\n");
            
            #line 383 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.CodeType.StartsWith("int")){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tif(item.DataType == MenuAuth_DataType.用户编号)\r\n                            m");
            
            #line 385 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 385 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.CurrentUser.Id;\r\n                        else if (item.DataType =" +
                    "= MenuAuth_DataType.机构编号)\r\n                            m");
            
            #line 387 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 387 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.SuperRole.Org;\r\n                        else if (item.DataType ==" +
                    " MenuAuth_DataType.授权编号)\r\n                            m");
            
            #line 389 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 389 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.SuperRole.Id;\r\n                        else if (item.DataType == " +
                    "MenuAuth_DataType.角色编号)\r\n                            m");
            
            #line 391 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 391 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.UserRole.RoleID;\r\n                        else if (item.DataType " +
                    "== MenuAuth_DataType.区域编号)\r\n                            m");
            
            #line 393 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 393 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.AreaInfo.Id;\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth_DataType.班" +
                    "级编号)\r\n                            m");
            
            #line 395 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 395 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.ClassInfo.OrgID;\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth_DataTy" +
                    "pe.学段年级关联编号)\r\n                            m");
            
            #line 397 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 397 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.LinkInfo.Id;\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth_DataType.学" +
                    "段编号)\r\n                            m");
            
            #line 399 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 399 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.LinkInfo.Key;\r\n\t\t\t\t\t\telse if (item.DataType == MenuAuth_DataType." +
                    "年级编号)\r\n                            m");
            
            #line 401 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 401 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = _workContext.LinkInfo.Value;\r\n\t\t\t\t\t\telse if(!item.DataValue.IsNull())  \r\n\t\t\t\t\t" +
                    "\t\tm");
            
            #line 403 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 403 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=item.DataValue.getValue");
            
            #line 403 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.CodeType.Replace("?","")));
            
            #line default
            #line hidden
            this.Write("();\r\n");
            
            #line 404 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.CodeType.StartsWith("DateTime")){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tif(item.DataType==MenuAuth_DataType.当前时间)\r\n                            m");
            
            #line 406 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 406 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("= DateTime.Now;\r\n\t\t\t\t\t\telse if(!item.DataValue.IsNull()) \r\n\t\t\t\t\t\t\tm");
            
            #line 408 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 408 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=item.DataValue.getValue");
            
            #line 408 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.CodeType.Replace("?","")));
            
            #line default
            #line hidden
            this.Write("();\r\n\r\n");
            
            #line 410 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\t if(!item.DataValue.IsNull()) \r\n\t\t\t\t\t\t\tm");
            
            #line 412 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 412 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=item.DataValue.getValue");
            
            #line 412 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.CodeType.Replace("?","")));
            
            #line default
            #line hidden
            this.Write("();\r\n");
            
            #line 413 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tbreak;\r\n");
            
            #line 415 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\r\n                }\r\n            });\r\n\t\t\t}\r\n            #endregion\r\n\t\t}\r\n\r\n\t\t#reg" +
                    "ion 新增/编辑\r\n\t\tpublic ");
            
            #line 424 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity CreateOrModify(");
            
            #line 424 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model m");
            
            #line 424 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(",Expression<Func<");
            
            #line 424 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,bool IsAuth=false, MenuFieldInfo _fieldInfo = null" +
                    ")\r\n\t\t{\r\n\t\t\t_");
            
            #line 426 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.CreateOrModifySetDefaultParameters(m");
            
            #line 426 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(",IsAuth);\r\n\t\t\tSetDefaultValue(m");
            
            #line 427 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(", IsAuth,_fieldInfo);\r\n");
            
            #line 428 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false&&t.IsNull==false&&t.PK==false))
{	
	if(model.CodeType.StartsWith("DateTime")){if(model.Code!="AddTime"&&model.Code!="UpTime"){ 
            
            #line default
            #line hidden
            this.Write("\t\t\tif(IsAuth)\r\n\t\t\t{\r\n\t\t\t\tif(_fieldInfo.IsValidInput(\"");
            
            #line 433 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\tthrow new ValidateException(\"");
            
            #line 434 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n\t\t\t}\r\n\t\t\telse if(m");
            
            #line 436 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 436 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year==1) \r\n\t\t\t\tthrow new ValidateException(\"");
            
            #line 437 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n\t");
            
            #line 438 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}else if(model.EM){
		var Min=model.EmodelList.Select(t=>t.Attribute).Min();
		var Max=model.EmodelList.Select(t=>t.Attribute).Max();
	
            
            #line default
            #line hidden
            this.Write("\t\t\tif(IsAuth){\r\n\t\t\t\tvar ");
            
            #line 443 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field=_fieldInfo.getField(\"");
            
            #line 443 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\");\r\n\t\t\t\tif(");
            
            #line 444 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field!=null&&");
            
            #line 444 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field.ShowType==MenuAuth_ShowType.输入模式)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!");
            
            #line 446 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Field.Xml_EList.Select(t=>t.Attribute).Contains((int)m");
            
            #line 446 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 446 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("))\r\n\t\t\t\t\t\tthrow new ValidateException(\"");
            
            #line 447 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不在选项范围内。\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t");
            
            #line 450 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 if(Min>0){
            
            #line default
            #line hidden
            this.Write("\t\t\telse if((int)m");
            
            #line 451 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 451 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("==0)\r\n\t\t\t\tthrow new ValidateException(\"");
            
            #line 452 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空。\");\r\n\t\t\t");
            
            #line 453 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\telse if((int)m");
            
            #line 454 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 454 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("<");
            
            #line 454 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Min));
            
            #line default
            #line hidden
            this.Write("||(int)m");
            
            #line 454 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 454 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(">");
            
            #line 454 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Max));
            
            #line default
            #line hidden
            this.Write(")\r\n\t\t\t\tthrow new ValidateException(\"");
            
            #line 455 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不在选项范围内。\");\r\n\r\n\t");
            
            #line 457 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if((model.CodeType.StartsWith("int")||model.CodeType.StartsWith("long")||model.CodeType.StartsWith("decimal"))&&model.Code!="AddUser"&&model.Code!="UpUser"&&model.Code!="LogID"){
            
            #line default
            #line hidden
            this.Write("\t\t\tif(m");
            
            #line 458 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 458 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("==0)\r\n\t\t\t{\r\n\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValidInput(\"");
            
            #line 462 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t\tthrow new ValidateException(\"");
            
            #line 463 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n\t\t\t\t}\r\n\t\t\t\telse throw new ValidateException(\"");
            
            #line 465 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n\t\t\t}\r\n\t");
            
            #line 467 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.CodeType.StartsWith("string")){
            
            #line default
            #line hidden
            this.Write("\t\t\tif(string.IsNullOrEmpty(m");
            
            #line 468 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 468 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("))\r\n\t\t\t{\r\n\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValidInput(\"");
            
            #line 472 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t\tthrow new ValidateException(\"");
            
            #line 473 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n\t\t\t\t}\r\n\t\t\t\telse throw new ValidateException(\"");
            
            #line 475 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n\t\t\t}\t\r\n\t");
            
            #line 477 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
}
            
            #line default
            #line hidden
            
            #line 479 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(IsFK){
            
            #line default
            #line hidden
            this.Write("\t\t\tif(m");
            
            #line 480 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 480 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write("==");
            
            #line 480 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.DataType.IndexOf("int")==-1?"\"\"":"0"));
            
            #line default
            #line hidden
            this.Write(") throw new ValidateException(\"");
            
            #line 480 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Name));
            
            #line default
            #line hidden
            this.Write("不能为空\");\r\n");
            
            #line 481 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\t\r\n\t\t\t");
            
            #line 482 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity ");
            
            #line 482 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m");
            
            #line 482 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(IsFK?"=_"+_entityName.ToLower()+"Repository.GetById(m"+_entityName.ToLower()+"."+PKData.Code+");":";"));
            
            #line default
            #line hidden
            this.Write("\r\n            if (");
            
            #line 483 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(IsFK?_entityName+"m==null":"m"+_entityName.ToLower()+"."+PKData.Code+" == "+(PKData.DataType.IndexOf("int")==-1?"\"\"":"0")));
            
            #line default
            #line hidden
            this.Write(")\r\n            {\r\n\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.ActionType!=MenuActio" +
                    "n_ActionType.新增操作)\r\n\t\t\t\t\t\tthrow new ValidateException(\"没有新增操作权限\");\r\n\t\t\t\t}\r\n\t\t\t\t");
            
            #line 490 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m=new ");
            
            #line 490 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity();\r\n");
            
            #line 491 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(IsFK){
            
            #line default
            #line hidden
            this.Write("\t\t\t");
            
            #line 492 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 492 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 492 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 492 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n");
            
            #line 493 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write(" ");
            
            #line 494 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
foreach (var model in models.ColumnsList.Where(t => t.Virtual == false&&t.PK==false))
 {
	if(model.CodeType.StartsWith("DateTime"))
	{
		if(model.IsNull) {
            
            #line default
            #line hidden
            this.Write("\t\t\tif(IsAuth)\r\n\t\t\t{\r\n\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 501 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tif(m");
            
            #line 503 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 503 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 503 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 503 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t\t");
            
            #line 504 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 504 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 504 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 504 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(m");
            
            #line 509 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 509 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 509 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 509 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t\t");
            
            #line 510 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 510 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 510 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 510 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t}\r\n\t\t");
            
            #line 512 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.Code=="UpTime"||model.Code=="AddTime") {
            
            #line default
            #line hidden
            this.Write("\t\t\tif(IsAuth)\r\n\t\t\t{\r\n\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 515 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\")&&m");
            
            #line 515 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 515 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year!=1)\r\n\t\t\t\t\t");
            
            #line 516 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 516 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 516 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 516 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\telse \r\n\t\t\t\t\t");
            
            #line 518 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 518 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=DateTime.Now;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(m");
            
            #line 522 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 522 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year!=1)\r\n\t\t\t\t\t");
            
            #line 523 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 523 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 523 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 523 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\telse \r\n\t\t\t\t\t");
            
            #line 525 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 525 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=DateTime.Now;\r\n\t\t\t}\r\n\t\t");
            
            #line 527 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
} else{
            
            #line default
            #line hidden
            this.Write("\t\tif(IsAuth)\r\n\t\t{\r\n\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 530 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t{\r\n\t\t\t\tif(m");
            
            #line 532 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 532 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year==1)\r\n\t\t\t\t\t");
            
            #line 533 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 533 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=DateTime.Now;\r\n\t\t\t\telse\r\n\t\t\t\t\t");
            
            #line 535 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 535 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 535 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 535 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t}\r\n\t\t\telse\tthrow new ValidateException(\" ");
            
            #line 537 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("字段不能为空，请联系管理员授权或设置默认值。\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(m");
            
            #line 541 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 541 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year==1)\r\n\t\t\t\t");
            
            #line 542 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 542 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=DateTime.Now;\r\n\t\t\telse \r\n\t\t\t\t");
            
            #line 544 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 544 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 544 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 544 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t}\r\n\t\t");
            
            #line 546 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
	}else if(model.EM) {
            
            #line default
            #line hidden
            this.Write("\t\tif(IsAuth)\r\n\t\t{\r\n\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 550 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t");
            
            #line 551 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 551 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 551 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 551 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t");
            
            #line 555 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 555 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 555 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 555 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t}\r\n\t");
            
            #line 557 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{ 
		if(model.Code=="AddUser"||model.Code=="UpUser"){
            
            #line default
            #line hidden
            this.Write("\t\t\tif(IsAuth)\r\n\t\t\t{\r\n\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 561 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\")&&m");
            
            #line 561 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 561 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t");
            
            #line 562 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 562 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 562 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 562 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\telse \r\n\t\t\t\t\t");
            
            #line 564 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 564 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 564 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.IsNull?"_workContext.CurrentUser?.Id":"_workContext.CurrentUser.Id"));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(m");
            
            #line 568 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 568 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t");
            
            #line 569 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 569 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 569 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 569 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\telse \r\n\t\t\t\t\t");
            
            #line 571 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 571 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 571 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.IsNull?"_workContext.CurrentUser?.Id":"_workContext.CurrentUser.Id"));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t}\r\n\t\t");
            
            #line 573 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.Code=="LogID"){
            
            #line default
            #line hidden
            this.Write("\t\t\t");
            
            #line 574 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 574 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=_workContext.LogID;\r\n\t\t");
            
            #line 575 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\r\n\t\tif(IsAuth)\t\r\n\t\t{\r\n\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 578 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t");
            
            #line 579 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 579 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 579 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 579 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t}\r\n\t\telse\r\n\t\t{\t\r\n\t\t\t");
            
            #line 583 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 583 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 583 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 583 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t}\r\n");
            
            #line 585 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}}
            
            #line default
            #line hidden
            this.Write("\t\r\n\t\t\t_");
            
            #line 586 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Add(");
            
            #line 586 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m);\r\n\t\t\t_");
            
            #line 587 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository.Insert(");
            
            #line 587 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m);\r\n            }\r\n            else\r\n            {\t\r\n\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t" +
                    "\tif(_fieldInfo.ActionType!=MenuAction_ActionType.编辑操作)\r\n\t\t\t\t\t\tthrow new Validate" +
                    "Exception(\"没有编辑操作权限\");\r\n\t\t\t\t}\r\n                 ");
            
            #line 596 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(IsFK?"":_entityName+"m = GetById(m"+_entityName.ToLower()+"."+PKData.Code+",expression,IsAuth,_fieldInfo);"));
            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 597 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(!IsFK){
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(");
            
            #line 598 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m==null) throw new ValidateException(\"修改的数据不存在或无权限。\");\r\n");
            
            #line 599 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
} foreach (var model in models.ColumnsList.Where(t => t.Virtual == false&&t.PK==false)){
if(model.EM) {
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 603 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change= _");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 605 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 606 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t");
            
            #line 608 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 608 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 608 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 608 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\t\r\n\t\t\t\t\t_");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 614 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t");
            
            #line 615 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 615 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 615 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 615 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t}\r\n");
            
            #line 617 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.CodeType.StartsWith("int")||model.CodeType.StartsWith("lon")||model.CodeType.StartsWith("dec")){
				if(model.Code=="UpUser"){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tif(IsAuth)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 621 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(m");
            
            #line 623 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 623 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar ");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 625 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tif(");
            
            #line 626 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t");
            
            #line 628 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 628 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 628 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 628 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar ");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",");
            
            #line 633 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.IsNull?"_workContext.CurrentUser?.Id":"_workContext.CurrentUser.Id"));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tif(");
            
            #line 634 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t");
            
            #line 636 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 636 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 636 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.IsNull?"_workContext.CurrentUser?.Id":"_workContext.CurrentUser.Id"));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 643 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 643 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar ");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 645 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tif(");
            
            #line 646 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t");
            
            #line 648 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 648 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 648 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 648 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar ");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",");
            
            #line 653 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.IsNull?"_workContext.CurrentUser?.Id":"_workContext.CurrentUser.Id"));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tif(");
            
            #line 654 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t\t");
            
            #line 656 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 656 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=");
            
            #line 656 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.IsNull?"_workContext.CurrentUser?.Id":"_workContext.CurrentUser.Id"));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t");
            
            #line 660 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.Code=="AddUser"){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tif(IsAuth)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 663 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(m");
            
            #line 665 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 665 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar ");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 667 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\t\tif(");
            
            #line 668 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t\t");
            
            #line 670 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 670 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 670 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 670 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 677 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 677 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 679 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 680 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 682 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 682 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 682 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 682 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t");
            
            #line 686 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.Code!="LogID"){
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 689 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 691 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 691 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 693 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 694 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 696 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 696 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 696 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 696 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(m");
            
            #line 703 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 703 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 705 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 706 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 708 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 708 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 708 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 708 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n");
            
            #line 712 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}else if(model.CodeType.StartsWith("str")){
if(model.IsNull) {
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 716 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 718 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 719 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 721 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 721 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 721 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 721 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar ");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 727 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\tif(");
            
            #line 728 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\t");
            
            #line 730 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 730 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 730 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 730 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n");
            
            #line 733 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else {
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 736 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(!string.IsNullOrEmpty(m");
            
            #line 738 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 738 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 740 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 741 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 743 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 743 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 743 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 743 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!string.IsNullOrEmp" +
                    "ty(m");
            
            #line 750 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 750 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 752 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 753 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 755 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 755 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 755 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 755 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n");
            
            #line 759 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}else if(model.CodeType.StartsWith("DateTime")){
	if(model.IsNull) {
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 763 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 765 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 765 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 765 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 765 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 767 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 768 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 770 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 770 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 770 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 770 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(m");
            
            #line 777 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 777 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 777 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 777 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 779 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 780 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 782 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 782 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 782 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 782 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t");
            
            #line 786 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.Code=="UpTime") {
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 789 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 791 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 791 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 791 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 791 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 793 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 794 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 796 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 796 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 796 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 796 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 801 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 801 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 801 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 801 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 801 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 801 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",DateTime.Now);\r\n\t\t\t\t\t\t\tif(");
            
            #line 802 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 804 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 804 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=DateTime.Now;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(m");
            
            #line 811 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 811 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 811 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 811 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 813 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 814 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 816 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 816 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 816 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 816 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 821 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 821 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 821 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 821 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 821 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 821 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",DateTime.Now);\r\n\t\t\t\t\t\tif(");
            
            #line 822 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 824 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 824 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=DateTime.Now;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t");
            
            #line 828 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.Code=="AddTime") {
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 831 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 833 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 833 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 833 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 833 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 835 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 836 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 838 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 838 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 838 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 838 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(m");
            
            #line 845 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 845 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("!=null&&((DateTime)m");
            
            #line 845 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 845 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(").Year!=1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 847 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 848 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 850 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 850 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 850 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 850 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t");
            
            #line 854 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{ 
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 857 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(m");
            
            #line 859 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 859 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year!=1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar ");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 861 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\t\tif(");
            
            #line 862 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t");
            
            #line 864 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 864 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 864 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 864 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(m");
            
            #line 871 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 871 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".Year!=1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 873 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 874 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 876 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 876 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 876 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 876 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t");
            
            #line 880 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(IsAuth)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(_fieldInfo.IsValid(\"");
            
            #line 884 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 886 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tif(");
            
            #line 887 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t");
            
            #line 889 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 889 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 889 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 889 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar ");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change=_");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m,");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",m");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 895 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\tif(");
            
            #line 896 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Change&&_workContext.ValidatChangeField)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\t");
            
            #line 898 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m.");
            
            #line 898 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("=m");
            
            #line 898 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 898 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n ");
            
            #line 901 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t}\r\n\t\t\t\t_");
            
            #line 903 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Update(");
            
            #line 903 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m);\r\n\t\t\t\treturn ");
            
            #line 904 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("m;\r\n\t\t}\r\n\t\t#endregion\r\n\t\t#region 批量删除\r\n\t\tpublic async Task<int> Delete(RequestBea" +
                    "chModel<");
            
            #line 908 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.CodeType));
            
            #line default
            #line hidden
            this.Write("> Request,Expression<Func<");
            
            #line 908 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,IQueryable<");
            
            #line 908 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Query=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)\r\n\t\t{\r\n\t\t\tif (" +
                    "Request.List == null || Request.List.Count == 0) throw new ValidateException(\"未包" +
                    "含任何删除的元素\");\r\n\t\t\t//查询根据权限可实际删除数据\r\n\t\t\tvar DeleteList =await Where(t => Request.Lis" +
                    "t.Contains(t.");
            
            #line 912 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(@"), Where(expression,Query), IsAuth, FieldInfo).ToListAsync();
			if(!DeleteList.Any()) throw new ValidateException(""数据不存在或无权限。"");
			if(DeleteList.Count()!= Request.List.Count) throw new ValidateException(""部分删除元素不存在或无权限操作。"");
			DeleteList.ForEach(item =>
            {
                _");
            
            #line 917 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Delete(item);\r\n\t\t\t\t_");
            
            #line 918 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository.Delete(item);\r\n            });\r\n\t\t\treturn Request.List.Count();\r\n\t\t}\r\n" +
                    "\t\t#endregion\r\n\t\t#region 批量编辑\r\n\t\tpublic async Task<int> BeachOperation(RequestBea" +
                    "chModel<");
            
            #line 924 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.CodeType));
            
            #line default
            #line hidden
            this.Write("> request,Expression<Func<");
            
            #line 924 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,IQueryable<");
            
            #line 924 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(@"Entity> mQuery=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)
        {
            if(request.Value.IsNull()) throw new ValidateException(""数据值不能为空"");
            if (request.List == null || request.List.Count == 0) throw new ValidateException(""未包含任何数据"");
			if(IsAuth)
			{
				if(FieldInfo.ActionType!=MenuAction_ActionType.批量操作) throw new ValidateException(""操作类型错误。"");
				if (!FieldInfo.IsValid(request.FieldName)) throw new ValidateException(""未授权，请联系管理员。"");
			}
			var Query =await Where(t => request.List.Contains(t.");
            
            #line 933 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(@"), Where(expression,mQuery), IsAuth, FieldInfo).ToListAsync();
			if(Query.Count()!= request.List.Count) throw new ValidateException(""部分元素不存在或无权限操作。"");
            Query.ForEach(item =>
            {
                switch (request.FieldName)
                {
");
            
            #line 939 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false)){
            
            #line default
            #line hidden
            this.Write("                    case \"");
            
            #line 940 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\":\r\n");
            
            #line 941 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.EM){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tvar ");
            
            #line 942 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Value=(");
            
            #line 942 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.EnumName));
            
            #line default
            #line hidden
            this.Write(")request.Value.getValue");
            
            #line 942 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.CodeType.Replace("?","")));
            
            #line default
            #line hidden
            this.Write("();\r\n\t\t\t\t\t\t_");
            
            #line 943 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(item,item.");
            
            #line 943 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 943 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",");
            
            #line 943 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Value);\r\n\t\t\t\t\t\titem.");
            
            #line 944 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" =");
            
            #line 944 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Value;\r\n\t\t\t\t\t\t_");
            
            #line 945 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Update(item);\r\n");
            
            #line 946 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else if(model.CodeType=="string"){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\t_");
            
            #line 947 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(item,item.");
            
            #line 947 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 947 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",request.Value);\r\n                        item.");
            
            #line 948 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" =request.Value;\r\n\t\t\t\t\t\t_");
            
            #line 949 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Update(item);\r\n");
            
            #line 950 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\t\tvar ");
            
            #line 951 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Value=request.Value.getValue");
            
            #line 951 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.CodeType.Replace("?","")));
            
            #line default
            #line hidden
            this.Write("();\r\n\t\t\t\t\t\t_");
            
            #line 952 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.UpdateFieldBegin(item,item.");
            
            #line 952 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(",\"");
            
            #line 952 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",");
            
            #line 952 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Value);\r\n                        item.");
            
            #line 953 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" =");
            
            #line 953 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("Value;\r\n\t\t\t\t\t\t_");
            
            #line 954 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Update(item);\r\n");
            
            #line 955 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("                        break;\r\n");
            
            #line 957 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write(@"                    default:
                        throw new ValidateException(""未找到该项操作，请联系管理员(""+request.FieldName+"")"");
                }
            });
            return Query.Count();
        }
		#endregion
		#region 转义敏感信息
		private void Translation(MenuFieldInfo FieldInfo,");
            
            #line 966 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model model)\r\n\t\t{\r\n");
            
            #line 968 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model in models.ColumnsList.Where(t => t.Virtual == false||(t.Virtual&&t.PK&&t.FK))){if(model.Virtual){
            
            #line default
            #line hidden
            this.Write("\tif(FieldInfo.IsInclude(\"");
            
            #line 969 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t{\r\n");
            
            #line 971 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
   var FCode=model.Code.Split('_')[1];
	var FKEntity=_AllModels.Where(t=>t.Code==FCode).FirstOrDefault();
	if(FKEntity!=null){ 
		foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false&&t.CodeType=="string")){
            
            #line default
            #line hidden
            this.Write("\t\t\tif(FieldInfo.IsIncludeChildTranslation(\"");
            
            #line 975 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 975 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t{\r\n\t\t\t\tmodel.");
            
            #line 977 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 977 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(" = model.");
            
            #line 977 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 977 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(".ReplaseX();\r\n\t\t\t}\r\n");
            
            #line 979 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}
            
            #line default
            #line hidden
            this.Write("\t}\r\n");
            
            #line 981 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            
            #line 982 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.CodeType=="string"){
            
            #line default
            #line hidden
            this.Write("\t\tif(FieldInfo.IsTranslation(\"");
            
            #line 983 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\tmodel.");
            
            #line 984 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(" = model.");
            
            #line 984 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(".ReplaseX();\r\n");
            
            #line 985 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            
            #line 986 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(model.FK&&!model.PK){ var FKEntity=_AllModels.Where(t=>t.Code==model.FKTable.Replace("Entity", "")).FirstOrDefault();if(FKEntity!=null){
            
            #line default
            #line hidden
            this.Write("\t\t\t\tif(FieldInfo.IsInclude(\"");
            
            #line 987 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t{\r\n");
            
            #line 989 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 foreach (var model2 in FKEntity.ColumnsList.Where(t => t.Virtual == false&&t.CodeType=="string")){
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tif(FieldInfo.IsIncludeChildTranslation(\"");
            
            #line 990 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 990 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(FieldInfo.IsIncludeChildTranslation(\"");
            
            #line 992 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\",\"");
            
            #line 992 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write("\"))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmodel.");
            
            #line 994 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 994 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(" = model.");
            
            #line 994 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code+"_"+model.FKTable.Replace("Entity", "")));
            
            #line default
            #line hidden
            this.Write(".");
            
            #line 994 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model2.Code));
            
            #line default
            #line hidden
            this.Write(".ReplaseX();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n");
            
            #line 997 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t\t\t}\r\n");
            
            #line 999 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}}}}
            
            #line default
            #line hidden
            this.Write("\t\t}\r\n\r\n\t\tpublic async Task<int> SaveChangesAsync()\r\n\t\t{\r\n\t\t\treturn await _");
            
            #line 1004 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository.SaveChangesAsync();\r\n\t\t}\r\n\r\n\t\t#endregion\r\n\t\tpublic ");
            
            #line 1008 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity GetById (");
            
            #line 1008 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.CodeType));
            
            #line default
            #line hidden
            this.Write(" ");
            
            #line 1008 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(",Expression<Func<");
            
            #line 1008 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)\r\n" +
                    "\t\t{\r\n            return Where(t => t.");
            
            #line 1010 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(" == ");
            
            #line 1010 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(", null, IsAuth, FieldInfo).FirstOrDefault();\r\n\t\t}\r\n\r\n\t\tpublic  async Task<");
            
            #line 1013 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model> GetModelById (RequestModel<");
            
            #line 1013 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.CodeType));
            
            #line default
            #line hidden
            this.Write("> Request,Expression<Func<");
            
            #line 1013 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write(@"Entity, bool>> expression=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)
		{
			var Query=Where(expression);
			if(IsAuth)
			{
				#region 查询已有数据模型
				if(FieldInfo.ActionType==MenuAction_ActionType.编辑操作||FieldInfo.ActionType == MenuAction_ActionType.查看操作)
				{
					Expression<Func<");
            
            #line 1021 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> FiterExpression = null;\r\n");
            
            #line 1022 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"

					var PKtype=PKData.DataType.IndexOf("(") == -1 ? PKData.DataType.Replace("?","") : PKData.DataType.Substring(0, PKData.DataType.IndexOf("(")).Replace("?","");
					var PKDefaultValue=Helper.getDefaultValue(_options.DataBaseType,PKtype,PKData.IsNull);

            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tif(Request.Id!=");
            
            #line 1026 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKDefaultValue));
            
            #line default
            #line hidden
            this.Write(")\r\n\t\t\t\t\t\tFiterExpression=t => t.");
            
            #line 1027 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(" == Request.Id;\r\n\t\t\t\t\tvar ");
            
            #line 1028 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model=await MWhere(FiterExpression, Query, IsAuth,FieldInfo).FirstOrDefaultAsync(" +
                    ");\r\n\t\t\t\t\tif(");
            
            #line 1029 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model==null) throw new ValidateException(\"数据不存在或无权限。\");\r\n\t\t\t\t\tif(IsAuth&&FieldInf" +
                    "o.IsTranslation())\r\n\t\t\t\t\t\tTranslation(FieldInfo,");
            
            #line 1031 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model);\r\n\t\t\t\t\treturn ");
            
            #line 1032 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model;\r\n\t\t\t\t}\r\n\t\t\t\t#endregion\r\n\t\t\t\t#region 设置模型初始值\r\n\t\t\t\telse if(FieldInfo.ActionT" +
                    "ype==MenuAction_ActionType.新增操作)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar ");
            
            #line 1038 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model=new ");
            
            #line 1038 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model();\r\n\t\t\t\t\tSetDefaultValue(");
            
            #line 1039 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model, IsAuth, FieldInfo);\r\n\t\t\t\t\treturn ");
            
            #line 1040 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model;\r\n\t\t\t\t}\r\n\t\t\t\t#endregion\r\n\t\t\t\tthrow new ValidateException(\"该类型暂不支持，请联系管理员。\")" +
                    ";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar ");
            
            #line 1047 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model=await MWhere(t => t.");
            
            #line 1047 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(" == Request.Id, Query, IsAuth,FieldInfo).FirstOrDefaultAsync();\r\n\t\t\t\tif(");
            
            #line 1048 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model==null) throw new ValidateException(\"数据不存在或无权限。\");\r\n\t\t\t\treturn ");
            
            #line 1049 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Model;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic IQueryable<");
            
            #line 1052 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Get");
            
            #line 1052 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("sByCondition(");
            
            #line 1052 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("SearchCondition condition,Expression<Func<");
            
            #line 1052 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity, bool>> expression=null,IQueryable<");
            
            #line 1052 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("Entity> Query=null,bool IsAuth=false, MenuFieldInfo FieldInfo=null)\r\n\t\t{\r\n\t\t\t_");
            
            #line 1054 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("ChangeService.Get");
            
            #line 1054 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("sByConditionSetDefaultParameters(condition,IsAuth);\r\n");
            
            #line 1055 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
if(_pro){
            
            #line default
            #line hidden
            this.Write("\t\t\treturn ((");
            
            #line 1056 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_projectName));
            
            #line default
            #line hidden
            this.Write("DbContext)_");
            
            #line 1056 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write("Repository.Context).");
            
            #line 1056 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName));
            
            #line default
            #line hidden
            this.Write("FuncSearch(");
            
            #line 1056 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PaStr));
            
            #line default
            #line hidden
            this.Write(");\r\n");
            
            #line 1057 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}else{
            
            #line default
            #line hidden
            this.Write("\t\t\tvar query = _");
            
            #line 1058 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(_entityName.ToLower()));
            
            #line default
            #line hidden
            this.Write(@"BaseService.SearchByCondition(condition,expression,Query,IsAuth,FieldInfo);

			#region 动态排序
			if(condition!=null&&!condition.OrderBy.IsNull() && (IsAuth&& FieldInfo!=null&&FieldInfo.IsOrderBy(condition.OrderBy)||!IsAuth))
			{
				switch (condition.OrderBy)
                {
");
            
            #line 1065 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
				foreach(var model in _sModels.Where(r=>r.Virtual==false).OrderByDescending(c => c.Search)){ 
            
            #line default
            #line hidden
            this.Write("\t\t\t\t\tcase \"");
            
            #line 1066 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("\":\r\n\t\t\t\t\t\tquery = condition.IsDescending?query.OrderByDescending(q=>q.");
            
            #line 1067 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write("):query.OrderBy(q=>q.");
            
            #line 1067 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(model.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t\t\t\tbreak;\r\n");
            
            #line 1069 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
 }
            
            #line default
            #line hidden
            this.Write("                }\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tquery = query.OrderBy(q=>q.");
            
            #line 1073 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(PKData.Code));
            
            #line default
            #line hidden
            this.Write(");\r\n\t\t\t#endregion\r\n\t\t\treturn query;\r\n");
            
            #line 1076 "E:\JiTuan_Project\TepCloud\DotNetCode\Current\FileLoder\Templates\ServiceTemplate.tt"
}
            
            #line default
            #line hidden
            this.Write("\t\t}\r\n\t}\r\n}");
            return this.GenerationEnvironment.ToString();
        }
    }
    
    #line default
    #line hidden
    #region Base class
    /// <summary>
    /// Base class for this transformation
    /// </summary>
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "16.0.0.0")]
    public class ServiceTemplateBase
    {
        #region Fields
        private global::System.Text.StringBuilder generationEnvironmentField;
        private global::System.CodeDom.Compiler.CompilerErrorCollection errorsField;
        private global::System.Collections.Generic.List<int> indentLengthsField;
        private string currentIndentField = "";
        private bool endsWithNewline;
        private global::System.Collections.Generic.IDictionary<string, object> sessionField;
        #endregion
        #region Properties
        /// <summary>
        /// The string builder that generation-time code is using to assemble generated output
        /// </summary>
        protected System.Text.StringBuilder GenerationEnvironment
        {
            get
            {
                if ((this.generationEnvironmentField == null))
                {
                    this.generationEnvironmentField = new global::System.Text.StringBuilder();
                }
                return this.generationEnvironmentField;
            }
            set
            {
                this.generationEnvironmentField = value;
            }
        }
        /// <summary>
        /// The error collection for the generation process
        /// </summary>
        public System.CodeDom.Compiler.CompilerErrorCollection Errors
        {
            get
            {
                if ((this.errorsField == null))
                {
                    this.errorsField = new global::System.CodeDom.Compiler.CompilerErrorCollection();
                }
                return this.errorsField;
            }
        }
        /// <summary>
        /// A list of the lengths of each indent that was added with PushIndent
        /// </summary>
        private System.Collections.Generic.List<int> indentLengths
        {
            get
            {
                if ((this.indentLengthsField == null))
                {
                    this.indentLengthsField = new global::System.Collections.Generic.List<int>();
                }
                return this.indentLengthsField;
            }
        }
        /// <summary>
        /// Gets the current indent we use when adding lines to the output
        /// </summary>
        public string CurrentIndent
        {
            get
            {
                return this.currentIndentField;
            }
        }
        /// <summary>
        /// Current transformation session
        /// </summary>
        public virtual global::System.Collections.Generic.IDictionary<string, object> Session
        {
            get
            {
                return this.sessionField;
            }
            set
            {
                this.sessionField = value;
            }
        }
        #endregion
        #region Transform-time helpers
        /// <summary>
        /// Write text directly into the generated output
        /// </summary>
        public void Write(string textToAppend)
        {
            if (string.IsNullOrEmpty(textToAppend))
            {
                return;
            }
            // If we're starting off, or if the previous text ended with a newline,
            // we have to append the current indent first.
            if (((this.GenerationEnvironment.Length == 0) 
                        || this.endsWithNewline))
            {
                this.GenerationEnvironment.Append(this.currentIndentField);
                this.endsWithNewline = false;
            }
            // Check if the current text ends with a newline
            if (textToAppend.EndsWith(global::System.Environment.NewLine, global::System.StringComparison.CurrentCulture))
            {
                this.endsWithNewline = true;
            }
            // This is an optimization. If the current indent is "", then we don't have to do any
            // of the more complex stuff further down.
            if ((this.currentIndentField.Length == 0))
            {
                this.GenerationEnvironment.Append(textToAppend);
                return;
            }
            // Everywhere there is a newline in the text, add an indent after it
            textToAppend = textToAppend.Replace(global::System.Environment.NewLine, (global::System.Environment.NewLine + this.currentIndentField));
            // If the text ends with a newline, then we should strip off the indent added at the very end
            // because the appropriate indent will be added when the next time Write() is called
            if (this.endsWithNewline)
            {
                this.GenerationEnvironment.Append(textToAppend, 0, (textToAppend.Length - this.currentIndentField.Length));
            }
            else
            {
                this.GenerationEnvironment.Append(textToAppend);
            }
        }
        /// <summary>
        /// Write text directly into the generated output
        /// </summary>
        public void WriteLine(string textToAppend)
        {
            this.Write(textToAppend);
            this.GenerationEnvironment.AppendLine();
            this.endsWithNewline = true;
        }
        /// <summary>
        /// Write formatted text directly into the generated output
        /// </summary>
        public void Write(string format, params object[] args)
        {
            this.Write(string.Format(global::System.Globalization.CultureInfo.CurrentCulture, format, args));
        }
        /// <summary>
        /// Write formatted text directly into the generated output
        /// </summary>
        public void WriteLine(string format, params object[] args)
        {
            this.WriteLine(string.Format(global::System.Globalization.CultureInfo.CurrentCulture, format, args));
        }
        /// <summary>
        /// Raise an error
        /// </summary>
        public void Error(string message)
        {
            System.CodeDom.Compiler.CompilerError error = new global::System.CodeDom.Compiler.CompilerError();
            error.ErrorText = message;
            this.Errors.Add(error);
        }
        /// <summary>
        /// Raise a warning
        /// </summary>
        public void Warning(string message)
        {
            System.CodeDom.Compiler.CompilerError error = new global::System.CodeDom.Compiler.CompilerError();
            error.ErrorText = message;
            error.IsWarning = true;
            this.Errors.Add(error);
        }
        /// <summary>
        /// Increase the indent
        /// </summary>
        public void PushIndent(string indent)
        {
            if ((indent == null))
            {
                throw new global::System.ArgumentNullException("indent");
            }
            this.currentIndentField = (this.currentIndentField + indent);
            this.indentLengths.Add(indent.Length);
        }
        /// <summary>
        /// Remove the last indent that was added with PushIndent
        /// </summary>
        public string PopIndent()
        {
            string returnValue = "";
            if ((this.indentLengths.Count > 0))
            {
                int indentLength = this.indentLengths[(this.indentLengths.Count - 1)];
                this.indentLengths.RemoveAt((this.indentLengths.Count - 1));
                if ((indentLength > 0))
                {
                    returnValue = this.currentIndentField.Substring((this.currentIndentField.Length - indentLength));
                    this.currentIndentField = this.currentIndentField.Remove((this.currentIndentField.Length - indentLength));
                }
            }
            return returnValue;
        }
        /// <summary>
        /// Remove any indentation
        /// </summary>
        public void ClearIndent()
        {
            this.indentLengths.Clear();
            this.currentIndentField = "";
        }
        #endregion
        #region ToString Helpers
        /// <summary>
        /// Utility class to produce culture-oriented representation of an object as a string.
        /// </summary>
        public class ToStringInstanceHelper
        {
            private System.IFormatProvider formatProviderField  = global::System.Globalization.CultureInfo.InvariantCulture;
            /// <summary>
            /// Gets or sets format provider to be used by ToStringWithCulture method.
            /// </summary>
            public System.IFormatProvider FormatProvider
            {
                get
                {
                    return this.formatProviderField ;
                }
                set
                {
                    if ((value != null))
                    {
                        this.formatProviderField  = value;
                    }
                }
            }
            /// <summary>
            /// This is called from the compile/run appdomain to convert objects within an expression block to a string
            /// </summary>
            public string ToStringWithCulture(object objectToConvert)
            {
                if ((objectToConvert == null))
                {
                    throw new global::System.ArgumentNullException("objectToConvert");
                }
                System.Type t = objectToConvert.GetType();
                System.Reflection.MethodInfo method = t.GetMethod("ToString", new System.Type[] {
                            typeof(System.IFormatProvider)});
                if ((method == null))
                {
                    return objectToConvert.ToString();
                }
                else
                {
                    return ((string)(method.Invoke(objectToConvert, new object[] {
                                this.formatProviderField })));
                }
            }
        }
        private ToStringInstanceHelper toStringHelperField = new ToStringInstanceHelper();
        /// <summary>
        /// Helper to produce culture-oriented representation of an object as a string
        /// </summary>
        public ToStringInstanceHelper ToStringHelper
        {
            get
            {
                return this.toStringHelperField;
            }
        }
        #endregion
    }
    #endregion
}
